"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{344:function(n,e,t){t.d(e,{Z:function(){return f}});var r=t(5893),i=t(4051),o=t.n(i),a=t(7294),s=t(8100),u=t(9669),c=t.n(u);function l(n,e,t,r,i,o,a){try{var s=n[o](a),u=s.value}catch(c){return void t(c)}s.done?e(u):Promise.resolve(u).then(r,i)}var d=function(){var n=(0,a.useState)(!1),e=n[0],t=n[1],r=(0,s.D3)(),i=r.user,u=r.isAuthenticated,d=r.isLoading,f=r.getAccessTokenSilently,p=(0,a.useMemo)((function(){return e}),[e]);return(0,a.useEffect)((function(){var n=function(){var n,e=(n=o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f();case 2:e=n.sent,c().interceptors.request.use((function(n){return n.headers.Authorization="Bearer ".concat(e),n})),t(!0);case 5:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){l(o,r,i,a,s,"next",n)}function s(n){l(o,r,i,a,s,"throw",n)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();!d&&u&&n()}),[d,u]),{user:i,tokenized:p}},f=function(n){var e=n.children;return d().tokenized?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)(r.Fragment,{})}},9657:function(n,e,t){var r=t(5893),i=t(7294),o=t(948),a=t(2734),s=t(7357),u=t(7533),c=t(2293),l=t(155),d=t(8462),f=t(6720),p=t(5861),h=t(7720),m=t(3946),x=t(326),v=t(9572),g=t(6215),j=t(7212),b=t(8619),y=t(7594),w=t(9334),Z=t(6040),k=t(8201),P=t(8333),S=t(8972),C=t(8100),A=t(1163);function E(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function M(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function O(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){M(n,e,t[e])}))}return n}function I(n){return function(n){if(Array.isArray(n))return E(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return E(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=188,D=function(n){return{width:z,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen}),overflowX:"hidden"}},T=function(n){return M({transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(n.spacing(7)," + 1px)")},n.breakpoints.up("sm"),{width:"calc(".concat(n.spacing(8)," + 1px)")})},_=(0,o.ZP)("div")((function(n){var e=n.theme;return O({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)})),F=(0,o.ZP)(c.Z,{shouldForwardProp:function(n){return"open"!==n}})((function(n){var e=n.theme,t=n.open;return O({zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},t&&{marginLeft:z,width:"calc(100% - ".concat(z,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})})})),L=(0,o.ZP)(u.ZP,{shouldForwardProp:function(n){return"open"!==n}})((function(n){var e=n.theme,t=n.open;return O({width:z,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},t&&O({},D(e),{"& .MuiDrawer-paper":D(e)}),!t&&O({},T(e),{"& .MuiDrawer-paper":T(e)}))}));e.Z=function(n){var e=n.children,t=n.subtitle,o=n.profilePath,u=n.menuItems,c=void 0===u?[]:u,E=n.loginRedirect,M=(0,C.D3)(),z=M.isLoading,D=M.isAuthenticated,T=M.logout,G=M.user,R=(0,a.Z)(),H=(0,i.useState)(!1),K=H[0],W=H[1],q=(0,i.useState)(!1),B=q[0],N=q[1],U=(0,i.useState)(void 0),X=U[0],J=U[1],V=(0,i.useState)(void 0),$=V[0],Q=V[1],Y=Boolean($),nn=(0,A.useRouter)();(0,i.useEffect)((function(){z||D||nn.push(E)}),[z,D,E,nn]),(0,i.useEffect)((function(){var n=c.find((function(n){return n.route===nn.pathname}));n&&J(n.name)}),[c,nn]);var en=(0,i.useMemo)((function(){if("evangelos@meraklis.io"===(null===G||void 0===G?void 0:G.email)){var n=I(c);return n.push({name:"Admin Panel",icon:(0,r.jsx)(Z.Z,{}),route:"/admin"}),n}return c}),[c,G]);return z||!D?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)(s.Z,{sx:{display:"flex"},children:[(0,r.jsx)(f.ZP,{}),(0,r.jsx)(F,{enableColorOnDark:!0,position:"fixed",color:"primary",open:K,children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(m.Z,{color:"inherit","aria-label":"open drawer",onClick:function(){N(!0),W(!0)},edge:"start",sx:O({marginRight:5},K&&{display:"none"}),children:(0,r.jsx)(x.Z,{})}),(0,r.jsx)(p.Z,{component:"div",variant:"h6",sx:{flexGrow:1},children:t}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.Z,{id:"basic-button",color:"inherit","aria-controls":Y?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":Y?"true":void 0,onClick:function(n){Q(n.currentTarget)},children:(0,r.jsx)(k.Z,{})}),(0,r.jsxs)(P.Z,{id:"basic-menu",anchorEl:$,open:Y,onClose:function(){Q(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,r.jsx)(S.Z,{onClick:function(){return J(void 0),void nn.push(o)},children:"Profile"}),(0,r.jsx)(S.Z,{onClick:function(){return T({returnTo:window.location.origin})},children:"Logout"})]})]})]})}),(0,r.jsxs)(L,{variant:"permanent",open:K,onMouseEnter:function(){B||W(!0)},onMouseLeave:function(){B||W(!1)},children:[(0,r.jsx)(_,{children:(0,r.jsx)(m.Z,{onClick:function(){N(!1),W(!1)},children:"rtl"===R.direction?(0,r.jsx)(g.Z,{}):(0,r.jsx)(v.Z,{})})}),(0,r.jsx)(h.Z,{}),(0,r.jsx)("nav",{children:(0,r.jsx)(d.Z,{children:en.map((function(n){return(0,r.jsx)(j.ZP,{disablePadding:!0,sx:{display:"block"},children:(0,r.jsxs)(b.Z,{sx:{minHeight:48,justifyContent:K?"initial":"center",px:2.5},selected:X===n.name,onClick:function(){return J((e=n).name),void nn.push(e.route);var e},children:[(0,r.jsx)(y.Z,{sx:{minWidth:0,mr:K?3:"auto",justifyContent:"center"},children:n.icon}),(0,r.jsx)(w.Z,{primary:n.name,sx:{opacity:K?1:0}})]})},n.name)}))})})]}),(0,r.jsxs)(s.Z,{sx:{flexGrow:1,p:3},children:[(0,r.jsx)(_,{}),e]})]})}},919:function(n,e,t){t.d(e,{G:function(){return l}});var r=t(5893),i=t(9657),o=t(8100),a=t(344),s=t(7547),u=t(4795),c=t(1178),l=function(n){return(0,r.jsx)(o.tw,{domain:"https://dev-70rtqpgh.us.auth0.com/",clientId:"iWG1AMTxDieKx9GTFaEJbHz9R6bWEZHV",redirectUri:"https://happy-tenant.herokuapp.com",audience:"https://happy-tenant.meraklis.io/api",scope:"read:current_user update:current_user_metadata",children:(0,r.jsx)(i.Z,{subtitle:"Management Portal",menuItems:[{name:"Properties",icon:(0,r.jsx)(u.Z,{}),route:c.ys},{name:"Tenants",icon:(0,r.jsx)(s.Z,{}),route:c.Ke}],loginRedirect:"/login",profilePath:"/profile",children:(0,r.jsx)(a.Z,{children:n})})})}},1178:function(n,e,t){t.d(e,{Ke:function(){return o},pM:function(){return i},ys:function(){return r}});var r="/",i="/tenant-portal",o="/tenants"}}]);