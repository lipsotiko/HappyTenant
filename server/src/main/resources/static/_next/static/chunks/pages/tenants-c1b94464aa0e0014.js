(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[554],{3523:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tenants",function(){return t(9723)}])},4153:function(n,e,t){"use strict";var r=t(5893),i=t(2963),a=t(5861),o=t(3795);e.Z=function(n){var e=n.crumbs,t=void 0===e?[]:e;return(0,r.jsx)(i.Z,{"aria-label":"breadcrumb",children:t.map((function(n,e){var t=n.title,i=n.onClick;return i?(0,r.jsx)(o.Z,{underline:"hover",className:"pointer",color:"inherit",onClick:i,children:t},"crumb_".concat(e)):(0,r.jsx)(a.Z,{color:"text.primary",children:t},"crumb_".concat(e))}))})}},919:function(n,e,t){"use strict";t.d(e,{G:function(){return h}});var r=t(5893),i=t(9657),a=t(8100),o=t(344),u=t(7547),c=t(4795),s=t(1178),l=t(1526),d=t(9473),f=t(4260),h=function(n){return(0,r.jsx)(a.tw,{domain:"dev-70rtqpgh.us.auth0.com",clientId:"iWG1AMTxDieKx9GTFaEJbHz9R6bWEZHV",redirectUri:"https://dev.meraklis.io",audience:"https://happy-tenant.meraklis.io/api",scope:"read:current_user update:current_user_metadata",children:(0,r.jsx)(d.zt,{store:l.Z,children:(0,r.jsx)(i.Z,{subtitle:"Management Portal",menuItems:[{name:"Properties",icon:(0,r.jsx)(c.Z,{}),route:s.ys},{name:"Tenants",icon:(0,r.jsx)(u.Z,{}),route:s.Ke}],loginRedirect:"/login",profilePath:"/profile",children:(0,r.jsxs)(o.Z,{children:[n,(0,r.jsx)(f.Z,{})]})})})})}},9723:function(n,e,t){"use strict";t.r(e);var r=t(4051),i=t.n(r),a=t(5893),o=t(7294),u=t(4153),c=t(7357),s=t(3321),l=t(3795),d=t(6901),f=t(919),h=t(9345),p=t(1163),v=t(9669),m=t.n(v);function x(n,e,t,r,i,a,o){try{var u=n[a](o),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function w(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(n){x(a,r,i,o,u,"next",n)}function u(n){x(a,r,i,o,u,"throw",n)}o(void 0)}))}}var j=function(){var n,e,t,r=(0,p.useRouter)(),f=(0,o.useState)(),v=f[0],x=f[1],j=(0,o.useState)([]),y=j[0],Z=j[1],_=[{field:"fullName",headerName:"Full Name",width:158,renderCell:function(n){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.Z,{id:"invite".concat(n.row.id),className:"pointer",onClick:function(){return r.push("/tenants/".concat(n.row.id))},children:n.row.fullName})})}},{field:"email",headerName:"Email",width:244},{field:"property",headerName:"Property",width:138,valueGetter:function(n){var e,t;return null===(e=n.row)||void 0===e||null===(t=e.property)||void 0===t?void 0:t.address}}];return(0,o.useEffect)((function(){var n=function(){var n=w(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m().get("/api/landlord-user/profile",{params:{returnPath:"/tenants"}}).then((function(n){var e=n.data;x(e)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),e=function(){var n=w(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m().get("/api/tenants/all");case 2:e=n.sent.data,Z(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n().then((function(){return e()}))}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{crumbs:[{title:"Tenants"}]}),(0,a.jsx)(c.Z,{m:2,sx:{display:"flex",justifyContent:"flex-end"},children:(0,a.jsx)(s.Z,{onClick:function(){return r.push("/tenants/create")},disabled:!(null===v||void 0===v||null===(n=v.paymentAccountStatus)||void 0===n?void 0:n.isOnboarded),children:"Create"})}),!1===(null===v||void 0===v||null===(e=v.paymentAccountStatus)||void 0===e?void 0:e.isOnboarded)&&(0,a.jsxs)(d.Z,{severity:"warning",sx:{margin:"8px"},children:["Click ",(0,a.jsx)(l.Z,{className:"pointer",href:null===(t=v.paymentAccountStatus)||void 0===t?void 0:t.onboardingUrl,children:"here"})," to configure your payout method with Stripe before inviting tenants."]}),(0,a.jsx)(c.Z,{sx:{height:400},children:(0,a.jsx)(h._,{rows:y,columns:_})})]})};j.getLayout=f.G,e.default=j}},function(n){n.O(0,[602,146,829,548,644,345,973,828,774,888,179],(function(){return e=3523,n(n.s=e);var e}));var e=n.O();_N_E=e}]);